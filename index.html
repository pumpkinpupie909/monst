<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>モンスト適正検索</title>
<style>
  body {
    font-family: "Hiragino Kaku Gothic ProN", "Noto Sans JP", sans-serif;
    margin: 20px;
    background: #fff;
    color: #000;
    text-align: center;
  }
  h1 {
    font-size: 2em;
    margin-bottom: 20px;
  }

  /* ラベル文字を大きく */
  label {
    font-size: 1.4em;
    font-weight: bold;
  }

  select, button {
    margin: 10px 0;
  }

  button {
    width: 100%;
    padding: 20px;
    font-size: 1.5em;
    border-radius: 8px;
    cursor: pointer;
  }

  /* アビリティ選択ボタン */
  #openAbilityDialog {
    background: #fff;
    color: #000;
    border: 2px solid #4CAF50;
  }

  /* 検索ボタン */
  #searchButton {
    background: #4CAF50;
    color: #fff;
    border: none;
  }

  /* 検索ボタン無効時 */
  #searchButton:disabled {
    background: #ccc;
    color: #666;
    cursor: not-allowed;
  }

  #results {
    margin-top: 30px;
    font-size: 1.2em;
  }

  /* ポップアップ */
  #abilityDialog {
    display: none;
    position: fixed;
    z-index: 10;
    left: 0; top: 0;
    width: 100%; height: 100%;
    background: rgba(0,0,0,0.5);
  }
  #abilityDialogContent {
    background: #fff;
    margin: 5% auto;/*アビリティを選択の上の空白*/
    padding: 20px;
    width: 90%;
    max-width: 480px;
    border-radius: 15px;
    font-size: 1.2em;
    line-height: 1.6;
    text-align: left;
    max-height: 80vh;
  overflow-y: auto;
  }
  #abilityDialog label {
    display: block;
    margin: 8px 0;
    font-size: 1.1em;
  }
  #abilityDialog input[type=checkbox] {
    transform: scale(1.5);
    margin-right: 8px;
  }
  #abilityDialog button {
    margin-top: 15px;
    margin-right: 10px;
    padding: 10px 20px;
    font-size: 1em;
    border: none;
    border-radius: 8px;
    background: #4CAF50;
    color: #fff;
  }
  #element {
  font-size: 1.5em; /* 文字サイズを大きく */
  padding: 8px 12px; /* 内側に余白を追加 */
  width: 350px; /* ボックスの横幅を広く */
}
  /* クエスト詳細ポップアップ */
.popup {
  display: none; /* 最初は非表示 */
  position: fixed;
  z-index: 1000;
  left: 0;
  top: 0;
  width: 100%;
  height: 100%;
  background-color: rgba(0, 0, 0, 0.6); /* 背景を半透明に */
  justify-content: center;
  align-items: center;
}

.popup-content {
  background: white;
  padding: 20px;
  border-radius: 15px;
  width: 80%;
  max-width: 420px;
  text-align: left;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
  animation: fadeIn 0.2s ease-out;
}

.close-btn {
  float: right;
  font-size: 24px;
  cursor: pointer;
  color: #555;
}

.close-btn:hover {
  color: #000;
}

@keyframes fadeIn {
  from { opacity: 0; transform: scale(0.95); }
  to { opacity: 1; transform: scale(1); }
}

/* 検索結果のクエスト名をクリックできるように */
.quest-item {
  cursor: pointer;
  color: #0078d7;
  text-decoration: underline;
}
.quest-item:hover {
  color: #0055a4;
}

</style>
</head>
<body>

<h1>モンスト適正検索</h1>

<label for="element">属性:</label><br>
<select id="element">
  <option value="">--選択--</option>
  <option value="火">火</option>
  <option value="水">水</option>
  <option value="木">木</option>
  <option value="光">光</option>
  <option value="闇">闇</option>
</select>

<br><br>

<label>撃種/アビリティ（複数選択可）：</label><br>
<button id="openAbilityDialog">アビリティを選択</button>
<br>
<button id="searchButton" disabled>検索</button>

<div id="results"></div>

<!-- アビリティ選択ポップアップ -->
<div id="abilityDialog">
  <div id="abilityDialogContent">
    <h2>アビリティを選択</h2>
    <label><input type="checkbox" value="反射">反射</label>
    <label><input type="checkbox" value="貫通">貫通</label>
    <label><input type="checkbox" value="重力バリア">重力バリア</label>
    <label><input type="checkbox" value="ダメージウォール">ダメージウォール</label>
    <label><input type="checkbox" value="ワープ">ワープ</label>
    <label><input type="checkbox" value="マインスイーパー/飛行">マインスイーパー/飛行</label>
    <label><input type="checkbox" value="ブロック">ブロック</label>
    <label><input type="checkbox" value="ウィンド">ウィンド</label>
    <label><input type="checkbox" value="魔法陣">魔法陣</label>
    <label><input type="checkbox" value="減速壁">減速壁</label>
    <label><input type="checkbox" value="転送壁">転送壁</label>
    <label><input type="checkbox" value="減速床">減速床</label>
    <button id="confirmAbility">決定</button>
    <button id="cancelAbility">閉じる</button>
  </div>
</div>

<script>
  // --- クエストデータ（自分で追加OK） ---
  const quests = [
     {name:"天魔の孤城試練１", element:"水", require:["重力バリア","ワープ","マインスイーパー/飛行","反射"],description:"雑魚：幻獣・神・魔族\nボス：神\n \n感染毒があるので異常状態回復系が有利",url:"https://xn--eckwa2aa3a9c8j8bve9d.gamewith.jp/article/show/354183"},
    {name:"天魔の孤城試練２", element:"木", require:["ダメージウォール","マインスイーパー/飛行","魔法陣","反射"],description:"雑魚：サムライ・ドラゴン\nボス：サムライ",url:"https://xn--eckwa2aa3a9c8j8bve9d.gamewith.jp/article/show/354184"},
    {name:"天魔の孤城試練３", element:"火", require:["ダメージウォール","マインスイーパー/飛行","魔法陣","貫通"],description:"雑魚：神・魔族・幻獣\nボス；神\n \n個別HPなのである程度対応していなくても攻略可",url:"https://xn--eckwa2aa3a9c8j8bve9d.gamewith.jp/article/show/354185"},
    {name:"天魔の孤城試練４", element:"光", require:["マインスイーパー/飛行","減速壁","反射"],description:"雑魚：神\nボス：神\n　\nブロックがあるとやりやすい",url:"https://xn--eckwa2aa3a9c8j8bve9d.gamewith.jp/article/show/354186"},
　　{name:"天魔の孤城試練５", element:"闇", require:["重力バリア","ダメージウォール","貫通"],description:"雑魚：サムライ・魔王・魔人・獣\nボス：サムライ\n　\n友情コンボ禁止",url:"https://xn--eckwa2aa3a9c8j8bve9d.gamewith.jp/article/show/354187"},
　　{name:"天魔の孤城試練６", element:"水", require:["重力バリア","減速壁","反射"],description:"雑魚：ロボット・魔王・妖精・神\nボス：聖騎士\n　\nウィンドなしキャラを入れる場合、守護獣麻痺必須",url:"https://xn--eckwa2aa3a9c8j8bve9d.gamewith.jp/article/show/354188"},
　　{name:"天魔の孤城試練７", element:"木", require:["転送壁"],description:"雑魚：幻獣・妖精\nボス：亜人\n\n",url:"https://xn--eckwa2aa3a9c8j8bve9d.gamewith.jp/article/show/354190"},
　　{name:"天魔の孤城試練８", element:"火", require:["ワープ","減速壁"],description:"雑魚：幻獣・魔族\nボス：魔族\n\n",url:"https://xn--eckwa2aa3a9c8j8bve9d.gamewith.jp/article/show/354191"},
    {name:"天魔の孤城試練９", element:"光", require:["重力バリア","転送壁"],description:"雑魚：神・ロボット・ユニバース\nボス：神\n\nラウドラバリアあり\n反射推奨",url:"https://xn--eckwa2aa3a9c8j8bve9d.gamewith.jp/article/show/354192"},
　　{name:"天魔の孤城試練１０", element:"水", require:["重力バリア","ダメージウォール","貫通"],description:"雑魚：神・侍・聖騎士・魔族\nボス：聖騎士\n\n34手以内クリアでアーキレット出現確率UP",url:"https://xn--eckwa2aa3a9c8j8bve9d.gamewith.jp/article/show/354193"},
    {name:"天魔の孤城試練EXアーキレット", element:"all", require:["重力バリア","マインスイーパー/飛行","ブロック","魔法陣"],description:"雑魚：幻獣・聖騎士・魔族・ユニバース・ロボット・魔族\nボス：神\n\n試練10を34手以内クリアで出現確率UP",url:"https://xn--eckwa2aa3a9c8j8bve9d.gamewith.jp/article/show/354437"},
　　{name:"天魔の孤城空中庭園１", element:"闇", require:["ダメージウォール","マインスイーパー/飛行","ブロック","反射"],description:"雑魚：幻獣・魔族・魔王\nボス：亜人\n\n",url:"https://xn--eckwa2aa3a9c8j8bve9d.gamewith.jp/article/show/434250"},
　　{name:"天魔の孤城空中庭園２", element:"光", require:["ダメージウォール","ブロック","転送壁"],description:"雑魚：魔族・幻獣\nボス：魔王\n\n",url:"https://xn--eckwa2aa3a9c8j8bve9d.gamewith.jp/article/show/434251"},
　　{name:"天魔の孤城空中庭園３", element:"水", require:["ダメージウォール","マインスイーパー/飛行","重力バリア"],description:"雑魚：魔族・幻獣・魔人\nボス：魔人\n\nゲージ攻撃を削れるので兵命削り推奨",url:"https://xn--eckwa2aa3a9c8j8bve9d.gamewith.jp/article/show/434253"},
　　{name:"天魔の孤城空中庭園４", element:"火", require:["重力バリア","マインスイーパー/飛行","ワープ","反射"],description:"雑魚：妖精、魔族、幻獣、ロボット\nボス：魔人\n\n",url:"https://xn--eckwa2aa3a9c8j8bve9d.gamewith.jp/article/show/434254"},
　　{name:"天魔の孤城空中庭園５", element:"木", require:["貫通","ブロック","魔法陣","減速壁"],description:"雑魚：魔人・幻獣・ロボット\nボス：魔人\n\nHPが多いほど攻撃力UP",url:"https://xn--eckwa2aa3a9c8j8bve9d.gamewith.jp/article/show/434256"},
　　{name:"天魔の孤城空中庭園６", element:"闇", require:["ワープ","減速壁","貫通"],description:"雑魚：幻獣、ドラゴン\nボス：ユニバース\n\n",url:"https://xn--eckwa2aa3a9c8j8bve9d.gamewith.jp/article/show/434257"},
　　{name:"天魔の孤城空中庭園７", element:"光", require:["ダメージウォール","重力バリア","ブロック"],description:"雑魚：サムライ・鉱物\nボス：ロボット\n\n",url:"https://xn--eckwa2aa3a9c8j8bve9d.gamewith.jp/article/show/434258"},
　　{name:"天魔の孤城空中庭園８", element:"水", require:["重力バリア","魔法陣","転送壁","反射"],description:"雑魚：幻獣・聖騎士・神・ドラゴン・ロボット\nボス：幻獣\n\n",url:"https://xn--eckwa2aa3a9c8j8bve9d.gamewith.jp/article/show/434259"},
　　{name:"天魔の孤城空中庭園９", element:"火", require:["減速壁","マインスイーパー/飛行","ブロック","反射"],description:"雑魚：聖騎士・鉱物・魔人・ドラゴン\nボス：幻獣\n\n",url:"https://xn--eckwa2aa3a9c8j8bve9d.gamewith.jp/article/show/434260"},
    {name:"天魔の孤城空中庭園１０", element:"all", require:["転送壁","マインスイーパー/飛行","反射"],description:"雑魚：妖精・神・ドラゴン・幻獣・ロボット・獣・聖騎士・サムライ\nボス：聖騎士\n\n低確率でコルティーナ出現",url:"https://xn--eckwa2aa3a9c8j8bve9d.gamewith.jp/article/show/434261"},
    {name:"天魔の孤城空中庭園EXコルティーナ", element:"光", require:["ワープ","重力バリア","貫通"],description:"雑魚：幻獣・魔族・聖騎士・ユニバース\nボス：\n\n庭園１から3敗以内？で出現確率UP",url:"https://xn--eckwa2aa3a9c8j8bve9d.gamewith.jp/article/show/434308"},
    {name:"黎絶アレスター", element:"水", require:["ワープ","マインスイーパー/飛行","ブロック"],description:"雑魚：ロボット・ユニバース・魔族・魔王・幻妖（マグマ雑魚）\nボス：幻妖\n\n反射推奨",url:"https://xn--eckwa2aa3a9c8j8bve9d.gamewith.jp/article/show/450293"},
　　{name:"黎絶アジテーター", element:"木", require:["転送壁","ワープ"],description:"雑魚：幻妖（花人間）・亜人（パピー吠崎）\nボス：幻妖\n\n",url:"https://xn--eckwa2aa3a9c8j8bve9d.gamewith.jp/article/show/438419"},
　　{name:"黎絶ロヴァー", element:"火", require:["転送壁"],description:"雑魚：鉱物・魔族・妖精・ロボット・幻妖（ランプ）\nボス：幻妖\n\nゲージキャラ非推奨",url:"https://xn--eckwa2aa3a9c8j8bve9d.gamewith.jp/article/show/431826"},
　　{name:"黎絶フォーサー", element:"闇", require:["マインスイーパー/飛行","減速壁","貫通"],description:"雑魚：幻獣・ドラゴン・ロボット・妖精（スーフー）\nボス：幻妖\n\n",url:"https://xn--eckwa2aa3a9c8j8bve9d.gamewith.jp/article/show/423304"},
　　{name:"黎絶エンベズラー", element:"光", require:["ワープ","転送壁"],description:"雑魚：魔族・ユニバース・サムライ\nボス：幻妖\n\n反射と貫通両方編成推奨",url:"https://xn--eckwa2aa3a9c8j8bve9d.gamewith.jp/article/show/455943"},
　　{name:"黎絶アブピッシャー", element:"水", require:["マインスイーパー/飛行","転送壁","反射"],description:"雑魚：幻獣・ロボット・妖精・魔族・鉱物\nボス：幻妖\n\n",url:"https://xn--eckwa2aa3a9c8j8bve9d.gamewith.jp/article/show/464339"},
　　{name:"黎絶デティアカル", element:"木", require:["ダメージウォール","マインスイーパー/飛行","転送壁"],description:"雑魚：魔族・ロボット・ドラゴン\nボス：幻妖\n\n",url:"https://xn--eckwa2aa3a9c8j8bve9d.gamewith.jp/article/show/488783"},
　　{name:"黎絶コディエゴス", element:"火", require:["ワープ","マインスイーパー/飛行","減速壁"],description:"雑魚：ロボット・魔族・ドラゴン・神\nボス：幻妖\n\n",url:"https://xn--eckwa2aa3a9c8j8bve9d.gamewith.jp/article/show/496752"},
　　{name:"黎絶ビリミスク", element:"闇", require:["ワープ","ブロック","転送壁"],description:"雑魚：魔族・サムライ・ドラゴン・獣・幻妖\nボス：幻妖\n\n",url:"https://xn--eckwa2aa3a9c8j8bve9d.gamewith.jp/article/show/469888"},
　　{name:"黎絶ペグイル", element:"光", require:["マインスイーパー/飛行","ブロック","魔法陣","貫通"],description:"雑魚：幻獣・魔族・妖精・聖騎士\nボス：幻妖\n\n",url:"https://xn--eckwa2aa3a9c8j8bve9d.gamewith.jp/article/show/480637"},
　　{name:"黎絶プロポバテ", element:"木", require:["減速壁","転送壁","反射"],description:"雑魚：魔人・幻獣・ドラゴン\nボス：幻妖\n\n",url:"https://xn--eckwa2aa3a9c8j8bve9d.gamewith.jp/article/show/506480"},
    {name:"黎絶コポルネス", element:"水", require:["ワープ","減速床"],description:"雑魚：魔族・幻獣\nボス：幻妖\n\n",url:"https://xn--eckwa2aa3a9c8j8bve9d.gamewith.jp/article/show/519110"},
    {name:"黎絶キャローネ", element:"光", require:["ワープ","ブロック","マインスイーパー/飛行","反射"],description:"雑魚：幻獣・魔族・ユニバース・妖精・神\nボス：幻妖\n\nボスが魔王キラーMを持っているので注意\n一部の敵は地雷倍率が上がっているので飛行×",url:"https://xn--eckwa2aa3a9c8j8bve9d.gamewith.jp/article/show/527238"},
    {name:"轟絶ダウト", element:"木", require:["重力バリア","減速壁","反射"],description:"雑魚：幻獣・魔族・ロボット・亜人\nボス：幻妖\n\n",url:"https://xn--eckwa2aa3a9c8j8bve9d.gamewith.jp/article/show/293626"},
　　{name:"轟絶ハービセル", element:"木", require:["重力バリア","マインスイーパー/飛行","反射"],description:"雑魚：ユニバース・幻獣・魔王・アクシス\nボス：幻妖\n\nラックスキル「クリティカル」必須",url:"https://xn--eckwa2aa3a9c8j8bve9d.gamewith.jp/article/show/381456"},
　　{name:"轟絶ハナレコグニ", element:"木", require:["ダメージウォール","ワープ",],description:"雑魚：魔族・妖精・幻獣\nボス：幻妖\n\nウィンド持ち推奨",url:"https://xn--eckwa2aa3a9c8j8bve9d.gamewith.jp/article/show/406505"},
　　{name:"轟絶カカゴセデク", element:"火", require:["ワープ","転送壁","反射"],description:"雑魚：神・魔族・ロボット\nボス：幻妖\n\n",url:"https://xn--eckwa2aa3a9c8j8bve9d.gamewith.jp/article/show/446434"},
　　{name:"轟絶ペディオ", element:"光", require:["ブロック","減速壁","貫通"],description:"雑魚：幻獣・獣・魔族・ユニバース\nボス：幻妖\n\n",url:"https://xn--eckwa2aa3a9c8j8bve9d.gamewith.jp/article/show/468949"},
　　{name:"轟絶スケアトラ", element:"火", require:["重力バリア","マインスイーパー/飛行","ブロック"],description:"雑魚：神・魔族\nボス：幻妖\n\n",url:"https://xn--eckwa2aa3a9c8j8bve9d.gamewith.jp/article/show/500125"},
　　{name:"轟絶オーポレン", element:"闇", require:["ダメージウォール","ワープ","ブロック","減速壁","反射"],description:"雑魚：幻獣・魔族・ロボット\nボス：幻妖\n\n",url:"https://xn--eckwa2aa3a9c8j8bve9d.gamewith.jp/article/show/492472"},
　　{name:"轟絶アンコルウ", element:"光", require:["ブロック","魔法陣","転送壁","反射"],description:"雑魚：幻獣・ロボット・ユニバース\nボス：幻妖\n\n",url:"https://xn--eckwa2aa3a9c8j8bve9d.gamewith.jp/article/show/513048"},
    {name:"轟絶サバイール", element:"水", require:["重力バリア","魔法陣","ダメージウォール","貫通"],description:"雑魚：幻獣・妖精・聖騎士・幻妖\nボス：幻妖\n\n",url:"https://xn--eckwa2aa3a9c8j8bve9d.gamewith.jp/article/show/524468"},
    {name:"爆絶ホラー", element:"火", require:["マインスイーパー/飛行","ウィンド"],description:"雑魚：魔族・幻獣\nボス：亜人\n\n",url:"https://xn--eckwa2aa3a9c8j8bve9d.gamewith.jp/article/show/514346"},
    {name:"爆絶アアル", element:"闇", require:["ダメージウォール","ワープ","反射","ブロック"],description:"雑魚：神・魔族・幻獣・獣\nボス：獣\n\n反射編成必須",url:"https://xn--eckwa2aa3a9c8j8bve9d.gamewith.jp/article/show/387114"},
　　{name:"EXリズム", element:"光", require:["減速床"],description:"雑魚：魔族・亜人・ロボット\nボス：亜人\n\nダメージウォールとロックオン地雷が展開されるが、\n雑魚処理できれば展開されないので対策していなくても問題ない",url:"https://xn--eckwa2aa3a9c8j8bve9d.gamewith.jp/article/show/504985"},
    {name:"EXネッテキシ", element:"木", require:["ダメージウォール","マインスイーパー/飛行","減速壁"],description:"雑魚：ロボット・幻獣・魔族\nボス：魔人\n\n貫通推奨",url:"https://xn--eckwa2aa3a9c8j8bve9d.gamewith.jp/article/show/461556"},
　　{name:"EX涅槃寂静", element:"火", require:["魔法陣","貫通","ダメージウォール","ワープ","マインスイーパー/飛行"],description:"雑魚：幻獣・ドラゴン・ユニバース\nボス：魔王\n\n",url:"https://xn--eckwa2aa3a9c8j8bve9d.gamewith.jp/article/show/344600"},
　　{name:"禁忌深淵火", element:"水", require:["ダメージウォール","ワープ","マインスイーパー/飛行","貫通"],description:"雑魚：魔族・幻獣・神・魔王・ユニバース\nボス：魔人\n\n伝染霧対策必須\n兵命削り推奨",url:"https://xn--eckwa2aa3a9c8j8bve9d.gamewith.jp/article/show/404307"},
　　{name:"禁忌深淵水", element:"木", require:["重力バリア","ワープ","マインスイーパー/飛行","反射"],description:"雑魚：幻獣・魔人・サムライ・魔族・妖精\nボス：魔王族\n\n",url:"https://xn--eckwa2aa3a9c8j8bve9d.gamewith.jp/article/show/404308"},
　　{name:"禁忌深淵木", element:"火", require:["重力バリア","ダメージウォール","マインスイーパー/飛行"],description:"雑魚：幻獣・神・魔族・魔人\nボス：魔王\n\n反射と貫通２体ずつ編成推奨",url:"https://xn--eckwa2aa3a9c8j8bve9d.gamewith.jp/article/show/404309"},
　　{name:"禁忌深淵闇", element:"光", require:["重力バリア","マインスイーパー/飛行","貫通"],description:"雑魚：ロボット・ドラゴン・魔族\nボス：魔王\n\n",url:"https://xn--eckwa2aa3a9c8j8bve9d.gamewith.jp/article/show/404311"},
　　{name:"禁忌深淵光", element:"闇", require:["ワープ","転送壁","貫通"],description:"雑魚：幻獣・ユニバース・神\nボス：魔王\n\nヴィシュヌが魔族キラーLを持っているので注意",url:"https://xn--eckwa2aa3a9c8j8bve9d.gamewith.jp/article/show/404310"},
　　{name:"パライソの星墓", element:"火", require:["ダメージウォール","ワープ","マインスイーパー/飛行","反射"],description:"雑魚：幻獣・鉱物・魔族・獣・妖精\nボス：鉱物\n\nHWマスターと窮地の活路推奨",url:"https://xn--eckwa2aa3a9c8j8bve9d.gamewith.jp/article/show/511455"},
　　{name:"黄泉の星墓", element:"光", require:["重力バリア","ダメージウォール","マインスイーパー/飛行"],description:"雑魚：魔族・ロボット・魔王・サムライ\nボス：魔人\n\n反射と貫通交互に編成推奨",url:"https://xn--eckwa2aa3a9c8j8bve9d.gamewith.jp/article/show/511456"},
　　{name:"ティルナノーグの星墓", element:"木", require:["重力バリア","ダメージウォール","減速壁","貫通"],description:"雑魚：幻獣・妖精・ロボット・聖騎士\nボス：妖精\n\n",url:"https://xn--eckwa2aa3a9c8j8bve9d.gamewith.jp/article/show/511457"},
　　{name:"アアルの星墓", element:"闇", require:["ワープ","ウィンド","減速床"],description:"雑魚：魔族\nボス：獣\n\n",url:"https://xn--eckwa2aa3a9c8j8bve9d.gamewith.jp/article/show/511458"},
　　{name:"アヴァロンの星墓", element:"水", require:["マインスイーパー/飛行","ブロック","減速壁","貫通"],description:"雑魚：魔族・幻獣・ロボット・聖騎士・妖精\nボス：聖騎士\n\n地雷による攻撃力アップがあるので飛行×",url:"https://xn--eckwa2aa3a9c8j8bve9d.gamewith.jp/article/show/511459"},
　　{name:"シャンバラの星墓", element:"火", require:["ダメージウォール","ワープ","減速壁","貫通"],description:"雑魚：幻獣・神・ドラゴン\nボス：鳥\n\n",url:"https://xn--eckwa2aa3a9c8j8bve9d.gamewith.jp/article/show/511460"},
　　{name:"アポカリプスの星墓", element:"光", require:["重力バリア","ワープ","減速壁","貫通"],description:"雑魚：幻獣、魔族、ロボット\nボス：魔王\n\n",url:"https://xn--eckwa2aa3a9c8j8bve9d.gamewith.jp/article/show/511461"},
　　{name:"アラミタマの星墓", element:"木", require:["ダメージウォール","マインスイーパー/飛行","ウィンド","反射"],description:"雑魚：幻獣・妖精・魔族\nボス：魔人\n\n木属性と火属性を2体づつ編成推奨",url:"https://xn--eckwa2aa3a9c8j8bve9d.gamewith.jp/article/show/511462"},
　　{name:"アラミタマの星墓", element:"火", require:["ダメージウォール","マインスイーパー/飛行","ウィンド","反射"],description:"雑魚：幻獣・妖精・魔族\nボス：魔人\n\n木属性と火属性を2体づつ編成推奨",url:"https://xn--eckwa2aa3a9c8j8bve9d.gamewith.jp/article/show/511462"},
　　{name:"ラブの星墓", element:"闇", require:["減速壁","転送壁","反射"],description:"雑魚：神・魔族・幻獣\nボス：亜人\n\n",url:"https://xn--eckwa2aa3a9c8j8bve9d.gamewith.jp/article/show/511463"},
　　{name:"パラノヴィアの星墓", element:"all", require:["ダメージウォール","ワープ","魔法陣","減速壁","反射"],description:"雑魚：幻獣・魔族・神・ドラゴン・ロボット\n中ボス：ユニバース・魔王・幻獣・聖騎士\nボス：ユニバース\n\n運極編成でアムネディア降臨確率UP",url:"https://xn--eckwa2aa3a9c8j8bve9d.gamewith.jp/article/show/511464"},
　　{name:"破壊の星墓EXアムネディア", element:"火", require:["重力バリア","魔法陣","ウィンド","貫通"],description:"雑魚：幻獣・ドラゴン\nボス：ユニバース\n\nパラノヴィアを運極を入れてクリアで確率UP",url:"https://xn--eckwa2aa3a9c8j8bve9d.gamewith.jp/article/show/512381"},
    {name:"超究極・傑チェルノボグ", element:"闇", require:["減速床","貫通"],description:"雑魚：幻獣・獣・妖精\nボス：亜人\n\nマインスイーパー編成必須\n貫通推奨",url:"https://xn--eckwa2aa3a9c8j8bve9d.gamewith.jp/article/show/519111"},
    {name:"未開の砂丘拠点２２", element:"木", require:["重力バリア","ダメージウォール","ブロック","反射"],description:"雑魚：亜人・幻獣・サムライ・ユニバース\nボス：ユニバース\n\n",url:"https://xn--eckwa2aa3a9c8j8bve9d.gamewith.jp/article/show/522737"},
    {name:"超究極イザナミ", element:"水", require:["ブロック","魔法陣","ウィンド",],description:"雑魚：魔族・ドラゴン・妖精・鉱物・ロボット・神\n中ボス：亜人・聖騎士\nボス：神\n\n",url:"https://xn--eckwa2aa3a9c8j8bve9d.gamewith.jp/article/show/524447"},
    /*テンプレ   {name:"", element:"", require:["","","",],description:"雑魚：\nボス：\n\n",url:""},   */
  ];

  const openDialog = document.getElementById("openAbilityDialog");
  const dialog = document.getElementById("abilityDialog");
  const confirmBtn = document.getElementById("confirmAbility");
  const cancelBtn = document.getElementById("cancelAbility");
  const searchBtn = document.getElementById("searchButton");
  let selectedAbilities = [];

  openDialog.onclick = () => {
    dialog.style.display = "block";
  };

  confirmBtn.onclick = () => {
    const checked = document.querySelectorAll("#abilityDialog input:checked");
    selectedAbilities = Array.from(checked).map(cb => cb.value);
    dialog.style.display = "none";
    openDialog.textContent = selectedAbilities.length
      ? selectedAbilities.join(", ")
      : "アビリティを選択";

    // ✅ アビリティを選んだ時だけ検索ボタンを押せる
    searchBtn.disabled = selectedAbilities.length === 0;
  };

  cancelBtn.onclick = () => {
    dialog.style.display = "none";
  };

  // --- 検索処理 ---
  searchBtn.onclick = () => {
    const element = document.getElementById("element").value;
    const resultsDiv = document.getElementById("results");

    const results = quests.filter(q =>
  (!element || q.element === element || q.element === "all") &&
  q.require.every(req => selectedAbilities.includes(req))
);

    resultsDiv.innerHTML = results.length
  ? results.map(q => `・<span class="quest-item" data-name="${q.name}">${q.name}</span>`).join("<br>")
  : "該当するクエストはありません。";

// ✅ クエスト名クリックで詳細ポップアップを表示
resultsDiv.querySelectorAll(".quest-item").forEach(item => {
  item.addEventListener("click", () => {
    const questName = item.dataset.name;
    const quest = quests.find(q => q.name === questName);

    if (quest) {
      const popup = document.getElementById("questDetailPopup");
      const popupDetail = document.getElementById("popupDetail");
      const closeBtn = document.getElementById("closePopup");

      popupDetail.innerHTML = `
        <h3>${quest.name}</h3>
        <p><strong>属性:</strong> ${quest.element}</p>
        <p><strong>必要ギミック:</strong> ${quest.require.join(" / ")}</p>
        <p><strong>詳細:</strong><br>${(quest.description || "（詳細未登録）").replace(/\n/g, "<br>")}</p>
        ${quest.url ? `<p><a href="${quest.url}" target="_blank">▶ クエスト攻略ページを開く</a></p>` : ""}
      `;

      popup.style.display = "flex";

      closeBtn.onclick = () => (popup.style.display = "none");
      popup.onclick = e => {
        if (e.target === popup) popup.style.display = "none";
      };
    }
  });
});

  };
</script>

  <!-- クエスト詳細ポップアップ -->
<div id="questDetailPopup" class="popup">
  <div class="popup-content">
    <span id="closePopup" class="close-btn">&times;</span>
    <div id="popupDetail"></div>
  </div>
</div>

</body>
</html>
