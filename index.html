<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>モンスト適正検索</title>
<style>
  body {
    font-family: "Hiragino Kaku Gothic ProN", "Noto Sans JP", sans-serif;
    margin: 20px;
    background: #fff;
    color: #000;
    text-align: center;
  }
  h1 {
    font-size: 2em;
    margin-bottom: 20px;
  }

  /* ラベル文字を大きく */
  label {
    font-size: 1.4em;
    font-weight: bold;
  }

  select, button {
    margin: 10px 0;
  }

  button {
    width: 100%;
    padding: 20px;
    font-size: 1.5em;
    border-radius: 8px;
    cursor: pointer;
  }

  /* アビリティ選択ボタン */
  #openAbilityDialog {
    background: #fff;
    color: #000;
    border: 2px solid #4CAF50;
  }

  /* 検索ボタン */
  #searchButton {
    background: #4CAF50;
    color: #fff;
    border: none;
  }

  /* 検索ボタン無効時 */
  #searchButton:disabled {
    background: #ccc;
    color: #666;
    cursor: not-allowed;
  }

  #results {
    margin-top: 30px;
    font-size: 1.2em;
  }

  /* ポップアップ */
  #abilityDialog {
    display: none;
    position: fixed;
    z-index: 10;
    left: 0; top: 0;
    width: 100%; height: 100%;
    background: rgba(0,0,0,0.5);
  }
  #abilityDialogContent {
    background: #fff;
    margin: 10% auto;
    padding: 20px;
    width: 90%;
    max-width: 480px;
    border-radius: 15px;
    font-size: 1.2em;
    line-height: 1.6;
    text-align: left;
  }
  #abilityDialog label {
    display: block;
    margin: 8px 0;
    font-size: 1.1em;
  }
  #abilityDialog input[type=checkbox] {
    transform: scale(1.5);
    margin-right: 8px;
  }
  #abilityDialog button {
    margin-top: 15px;
    margin-right: 10px;
    padding: 10px 20px;
    font-size: 1em;
    border: none;
    border-radius: 8px;
    background: #4CAF50;
    color: #fff;
  }
  #element {
  font-size: 1.5em; /* 文字サイズを大きく */
  padding: 8px 12px; /* 内側に余白を追加 */
  width: 350px; /* ボックスの横幅を広く */
}
</style>
</head>
<body>

<h1>モンスト適正検索</h1>

<label for="element">属性:</label><br>
<select id="element">
  <option value="">--選択--</option>
  <option value="火">火</option>
  <option value="水">水</option>
  <option value="木">木</option>
  <option value="光">光</option>
  <option value="闇">闇</option>
</select>

<br><br>

<label>撃種/アビリティ（複数選択可）：</label><br>
<button id="openAbilityDialog">アビリティを選択</button>
<br>
<button id="searchButton" disabled>検索</button>

<div id="results"></div>

<!-- アビリティ選択ポップアップ -->
<div id="abilityDialog">
  <div id="abilityDialogContent">
    <h2>アビリティを選択</h2>
    <label><input type="checkbox" value="反射">反射</label>
    <label><input type="checkbox" value="貫通">貫通</label>
    <label><input type="checkbox" value="重力バリア">重力バリア</label>
    <label><input type="checkbox" value="ダメージウォール">ダメージウォール</label>
    <label><input type="checkbox" value="ワープ">ワープ</label>
    <label><input type="checkbox" value="マインスイーパー/飛行">マインスイーパー/飛行</label>
    <label><input type="checkbox" value="ブロック">ブロック</label>
    <label><input type="checkbox" value="ウィンド">ウィンド</label>
    <label><input type="checkbox" value="魔法陣">魔法陣</label>
    <label><input type="checkbox" value="減速壁">減速壁</label>
    <label><input type="checkbox" value="転送壁">転送壁</label>
    <label><input type="checkbox" value="減速床">減速床</label>
    <button id="confirmAbility">決定</button>
    <button id="cancelAbility">閉じる</button>
  </div>
</div>

<script>
  // --- クエストデータ（自分で追加OK） ---
  const quests = [
     {name:"天魔の孤城試練１", element:"水", require:["重力バリア","ワープ","マインスイーパー/飛行","反射"]},
    {name:"天魔の孤城試練２", element:"木", require:["ダメージウォール","マインスイーパー/飛行","魔法陣","反射"]},
    {name:"天魔の孤城試練３", element:"火", require:["ダメージウォール","マインスイーパー/飛行","魔法陣","貫通"]},
    {name:"天魔の孤城試練４", element:"光", require:["マインスイーパー/飛行","減速壁","反射"]},
　　{name:"天魔の孤城試練５", element:"闇", require:["重力バリア","ダメージウォール","貫通"]},
　　{name:"天魔の孤城試練６", element:"水", require:["重力バリア","ダメージウォール","ウィンド","減速壁","反射"]},
　　{name:"天魔の孤城試練７", element:"木", require:["転送壁"]},
　　{name:"天魔の孤城試練８", element:"火", require:["ワープ","減速壁"]},
    {name:"天魔の孤城試練９", element:"光", require:["重力バリア","転送壁"]},
　　{name:"天魔の孤城試練１０", element:"all", require:["重力バリア","マインスイーパー/飛行","ブロック","魔法陣"]},
　　{name:"天魔の孤城空中庭園１", element:"闇", require:["ダメージウォール","マインスイーパー/飛行","ブロック","反射"]},
　　{name:"天魔の孤城空中庭園２", element:"光", require:["ダメージウォール","ブロック","転送壁"]},
　　{name:"天魔の孤城空中庭園３", element:"水", require:["ダメージウォール","マインスイーパー/飛行","重力バリア"]},
　　{name:"天魔の孤城空中庭園４", element:"火", require:["重力バリア","マインスイーパー/飛行","ワープ","反射"]},
　　{name:"天魔の孤城空中庭園５", element:"木", require:["貫通","ブロック","魔法陣","減速壁"]},
　　{name:"天魔の孤城空中庭園６", element:"闇", require:["ワープ","減速壁","貫通"]},
　　{name:"天魔の孤城空中庭園７", element:"光", require:["ダメージウォール","重力バリア","ブロック"]},
　　{name:"天魔の孤城空中庭園８", element:"水", require:["重力バリア","魔法陣","転送壁","反射"]},
　　{name:"天魔の孤城空中庭園９", element:"火", require:["減速壁","マインスイーパー/飛行","ブロック","反射"]},
    {name:"天魔の孤城空中庭園１０", element:"all", require:["転送壁","マインスイーパー/飛行","反射"]},
    {name:"黎絶アレスター", element:"水", require:["ワープ","マインスイーパー/飛行","ブロック"]},
　　{name:"黎絶アジテーター", element:"木", require:["転送壁","ワープ"]},
　　{name:"黎絶ロヴァー", element:"火", require:["転送壁"]},
　　{name:"黎絶フォーサー", element:"闇", require:["マインスイーパー/飛行","減速壁","貫通"]},
　　{name:"黎絶エンベズラー", element:"光", require:["ワープ","転送壁"]},
　　{name:"黎絶アブピッシャー", element:"水", require:["マインスイーパー/飛行","転送壁","反射"]},
　　{name:"黎絶デティアカル", element:"木", require:["ダメージウォール","マインスイーパー/飛行","転送壁"]},
　　{name:"黎絶コディエゴス", element:"火", require:["ワープ","マインスイーパー/飛行","減速壁"]},
　　{name:"黎絶ビリミスク", element:"闇", require:["ワープ","ブロック","転送壁"]},
　　{name:"黎絶ペグイル", element:"光", require:["マインスイーパー/飛行","ブロック","魔法陣","貫通"]},
　　{name:"黎絶プロポバテ", element:"木", require:["減速壁","転送壁","反射"]},
    {name:"黎絶コポルネス", element:"水", require:["ワープ","減速床"]},
    {name:"轟絶ダウト", element:"木", require:["重力バリア","減速壁"]},
　　{name:"轟絶ハービセル←クソ", element:"木", require:["重力バリア","マインスイーパー/飛行","反射"]},
　　{name:"轟絶ハナレコグニ", element:"木", require:["ダメージウォール","ワープ","ウィンド"]},
　　{name:"轟絶カカゴセデク", element:"火", require:["ワープ","転送壁","反射"]},
　　{name:"轟絶ペディオ", element:"光", require:["ブロック","減速壁","貫通"]},
　　{name:"轟絶スケアトラ", element:"火", require:["重力バリア","マインスイーパー/飛行","ブロック"]},
　　{name:"轟絶オーポレン", element:"闇", require:["ダメージウォール","ワープ","ブロック","減速壁","反射"]},
　　{name:"轟絶アンコルウ", element:"光", require:["ブロック","魔法陣","転送壁","反射"]},
    {name:"爆絶ホラー", element:"火", require:["マインスイーパー/飛行","ウィンド"]},
    {name:"爆絶アアル", element:"闇", require:["ダメージウォール","ワープ","反射","ブロック"]},
    {name:"爆絶カリ・ユガ", element:"木", require:["ワープ","減速壁","反射"]},
　　{name:"EXリズム", element:"光", require:["ダメージウォール","マインスイーパー/飛行","減速床"]},
    {name:"EXネッテキシ", element:"木", require:["ダメージウォール","反射","減速壁"]},
　　{name:"EX涅槃寂静", element:"火", require:["魔法陣","貫通","ダメージウォール","ワープ","マインスイーパー/飛行"]},
　　{name:"禁忌深淵火", element:"水", require:["ダメージウォール","ワープ","マインスイーパー/飛行","貫通"]},
　　{name:"禁忌深淵水", element:"木", require:["重力バリア","ワープ","マインスイーパー/飛行","反射"]},
　　{name:"禁忌深淵木", element:"火", require:["重力バリア","ダメージウォール","マインスイーパー/飛行"]},
　　{name:"禁忌深淵闇", element:"光", require:["重力バリア","マインスイーパー/飛行","貫通"]},
　　{name:"禁忌深淵光", element:"闇", require:["ワープ","転送壁"]},
　　{name:"パライソの星墓", element:"火", require:["ダメージウォール","ワープ","マインスイーパー/飛行","反射"]},
　　{name:"黄泉の星墓", element:"光", require:["重力バリア","ダメージウォール","マインスイーパー/飛行"]},
　　{name:"ティルナノーグの星墓", element:"木", require:["重力バリア","ダメージウォール","減速壁","貫通"]},
　　{name:"アアルの星墓", element:"闇", require:["ワープ","ウィンド","減速床"]},
　　{name:"アヴァロンの星墓(飛行×)", element:"水", require:["マインスイーパー/飛行","ブロック","減速壁","貫通"]},
　　{name:"シャンバラの星墓", element:"火", require:["ダメージウォール","ワープ","減速壁","貫通"]},
　　{name:"アポカリプスの星墓", element:"光", require:["重力バリア","ワープ","減速壁","貫通"]},
　　{name:"アラミタマの星墓", element:"木", require:["ダメージウォール","マインスイーパー/飛行","ウィンド","反射"]},
　　{name:"アラミタマの星墓", element:"火", require:["ダメージウォール","マインスイーパー/飛行","ウィンド","反射"]},
　　{name:"ラブの星墓", element:"闇", require:["減速壁","転送壁","反射"]},
　　{name:"パラノヴィアの星墓", element:"all", require:["ダメージウォール","ワープ","魔法陣","減速壁","反射"]},
　　{name:"アムネディア", element:"火", require:["重力バリア","魔法陣","ウィンド","貫通"]},
    {name:"超究極・傑チェルノボグ", element:"闇", require:["マインスイーパー/飛行","減速床","貫通"]},
    {name:"未開の砂丘拠点２２", element:"木", require:["重力バリア","ダメージウォール","ブロック","反射"]},
    {name:"超究極イザナミ", element:"水", require:["ブロック","魔法陣","ウィンド",]},
  ];

  const openDialog = document.getElementById("openAbilityDialog");
  const dialog = document.getElementById("abilityDialog");
  const confirmBtn = document.getElementById("confirmAbility");
  const cancelBtn = document.getElementById("cancelAbility");
  const searchBtn = document.getElementById("searchButton");
  let selectedAbilities = [];

  openDialog.onclick = () => {
    dialog.style.display = "block";
  };

  confirmBtn.onclick = () => {
    const checked = document.querySelectorAll("#abilityDialog input:checked");
    selectedAbilities = Array.from(checked).map(cb => cb.value);
    dialog.style.display = "none";
    openDialog.textContent = selectedAbilities.length
      ? selectedAbilities.join(", ")
      : "アビリティを選択";

    // ✅ アビリティを選んだ時だけ検索ボタンを押せる
    searchBtn.disabled = selectedAbilities.length === 0;
  };

  cancelBtn.onclick = () => {
    dialog.style.display = "none";
  };

  // --- 検索処理 ---
  searchBtn.onclick = () => {
    const element = document.getElementById("element").value;
    const resultsDiv = document.getElementById("results");

    const results = quests.filter(q =>
  (!element || q.element === element || q.element === "all") &&
  q.require.every(req => selectedAbilities.includes(req))
);

    resultsDiv.innerHTML = results.length
      ? results.map(q => `・${q.name}`).join("<br>")
      : "該当するクエストはありません。";
  };
</script>

</body>
</html>
